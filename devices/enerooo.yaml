# ENEROOO Device Types
#
# This file contains unified device type definitions for ENEROOO devices.
# Part of the Enerooo Spark Device Library (v2 schema).
#
# Supports: wM-Bus, LoRaWAN, and Modbus technologies
# Schema version: 2

device_types:
- vendor_name: ENEROOO
  model_number: ENEROOO-EDGE-V1
  name: Edge Gateway
  device_type: gateway
  description: ''
  technology_config:
    technology: modbus
  control_config: {}
  processor_config: {}
- vendor_name: ENEROOO
  model_number: ER10I
  name: ER10I Solar Inverter
  device_type: power_meter
  description: Enerooo ER10I Solar Inverter
  technology_config:
    technology: modbus
    function: input
    byte_order: big_endian
    word_order: low_first
    register_definitions:
    - field:
        name: grid_voltage
        unit: V
      scale: 0.1
      offset: 0.0
      address: 0
      data_type: uint16
    - field:
        name: grid_current
        unit: A
      scale: 0.1
      offset: 0.0
      address: 1
      data_type: int16
    - field:
        name: grid_power
        unit: W
      scale: 1.0
      offset: 0.0
      address: 2
      data_type: int16
    - field:
        name: pv_voltage_1
        unit: V
      scale: 0.1
      offset: 0.0
      address: 3
      data_type: uint16
    - field:
        name: pv_voltage_2
        unit: V
      scale: 0.1
      offset: 0.0
      address: 4
      data_type: uint16
    - field:
        name: pv_current_1
        unit: A
      scale: 0.1
      offset: 0.0
      address: 5
      data_type: int16
    - field:
        name: pv_current_2
        unit: A
      scale: 0.1
      offset: 0.0
      address: 6
      data_type: int16
    - field:
        name: temperature
        unit: C
      scale: 1.0
      offset: 0.0
      address: 8
      data_type: int16
    - field:
        name: pv_power_dc1
        unit: W
      scale: 1.0
      offset: 0.0
      address: 10
      data_type: uint16
    - field:
        name: pv_power_dc2
        unit: W
      scale: 1.0
      offset: 0.0
      address: 11
      data_type: uint16
    - field:
        name: bat_voltage
        unit: V
      scale: 0.1
      offset: 0.0
      address: 20
      data_type: int16
    - field:
        name: bat_current
        unit: A
      scale: 0.1
      offset: 0.0
      address: 21
      data_type: int16
    - field:
        name: bat_power
        unit: W
      scale: 1.0
      offset: 0.0
      address: 22
      data_type: int16
    - field:
        name: bms_connect_state
        unit: ''
      scale: 1.0
      offset: 0.0
      address: 23
      data_type: uint16
    - field:
        name: bat_temp
        unit: C
      scale: 1.0
      offset: 0.0
      address: 24
      data_type: int16
    - field:
        name: bat_actual_soc
        unit: '%'
      scale: 1.0
      offset: 0.0
      address: 28
      data_type: uint16
    - field:
        name: bat_disch_total
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 29
      data_type: uint32
    - field:
        name: bat_disch_today
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 32
      data_type: uint16
    - field:
        name: bat_charge_total
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 33
      data_type: uint32
    - field:
        name: bat_charge_today
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 35
      data_type: uint16
    - field:
        name: bms_charge_max_current
        unit: A
      scale: 0.1
      offset: 0.0
      address: 36
      data_type: uint16
    - field:
        name: bms_disch_max_current
        unit: A
      scale: 0.1
      offset: 0.0
      address: 37
      data_type: uint16
    - field:
        name: power_to_grid_total
        unit: kWh
      scale: 0.01
      offset: 0.0
      address: 72
      data_type: uint32
    - field:
        name: power_from_grid_total
        unit: kWh
      scale: 0.01
      offset: 0.0
      address: 74
      data_type: uint32
    - field:
        name: etoday_togrid
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 80
      data_type: uint16
    - field:
        name: etotal_togrid
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 82
      data_type: uint32
    - field:
        name: lock_state
        unit: ''
      scale: 1.0
      offset: 0.0
      address: 84
      data_type: uint16
    - field:
        name: feedin_power_rphase
        unit: W
      scale: 1.0
      offset: 0.0
      address: 130
      data_type: int32
    - field:
        name: feedin_power_sphase
        unit: W
      scale: 1.0
      offset: 0.0
      address: 132
      data_type: int32
    - field:
        name: feedin_power_tphase
        unit: W
      scale: 1.0
      offset: 0.0
      address: 134
      data_type: int32
    - field:
        name: eps_yield_total
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 142
      data_type: uint32
    - field:
        name: echarge_total
        unit: kWh
      scale: 1.0
      offset: 0.0
      address: 146
      data_type: uint32
    - field:
        name: solar_energy_total
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 148
      data_type: uint32
    - field:
        name: solar_energy_today
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 150
      data_type: uint16
    - field:
        name: power_to_grid_today
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 152
      data_type: uint16
    - field:
        name: power_from_grid_today
        unit: kWh
      scale: 0.1
      offset: 0.0
      address: 154
      data_type: uint16
    - field:
        name: minescsoc
        unit: '%'
      scale: 1.0
      offset: 0.0
      address: 270
      data_type: uint16
  control_config: {}
  processor_config: {}
- vendor_name: ENEROOO
  model_number: ER10M
  name: ER10M Single-Phase Meter
  device_type: power_meter
  description: Enerooo ER10M Single-Phase Meter
  technology_config:
    technology: modbus
    function: input
    byte_order: big_endian
    word_order: high_first
    register_definitions:
    - field:
        name: voltage
        unit: V
      scale: 0.1
      offset: 0.0
      address: 300259
      data_type: uint16
    - field:
        name: frequency
        unit: Hz
      scale: 0.01
      offset: 0.0
      address: 300273
      data_type: uint16
    - field:
        name: power_factor
        unit: ''
      scale: 0.001
      offset: 0.0
      address: 300269
      data_type: int16
    - field:
        name: instant_power
        unit: W
      scale: 1.0
      offset: 0.0
      address: 300263
      data_type: int32
    - field:
        name: energy_import_int
        unit: kWh
      scale: 1.0
      offset: 0.0
      address: 301025
      data_type: uint32
    - field:
        name: energy_import_dec
        unit: kWh
      scale: 0.01
      offset: 0.0
      address: 301027
      data_type: uint16
    - field:
        name: energy_export_int
        unit: kWh
      scale: 1.0
      offset: 0.0
      address: 301033
      data_type: uint32
    - field:
        name: energy_export_dec
        unit: kWh
      scale: 0.01
      offset: 0.0
      address: 301035
      data_type: uint16
  control_config: {}
  processor_config: {}
- vendor_name: ENEROOO
  model_number: ER12M
  name: ER12M Three-Phase Meter
  device_type: power_meter
  description: Enerooo ER12M Three-Phase Meter
  technology_config:
    technology: modbus
    function: input
    byte_order: big_endian
    word_order: high_first
    register_definitions:
    - field:
        name: voltage_l1
        unit: V
      scale: 0.1
      offset: 0.0
      address: 300289
      data_type: uint16
    - field:
        name: voltage_l2
        unit: V
      scale: 0.1
      offset: 0.0
      address: 300303
      data_type: uint16
    - field:
        name: voltage_l3
        unit: V
      scale: 0.1
      offset: 0.0
      address: 300317
      data_type: uint16
    - field:
        name: power_factor_l1
        unit: ''
      scale: 0.001
      offset: 0.0
      address: 300299
      data_type: int16
    - field:
        name: power_factor_l2
        unit: ''
      scale: 0.001
      offset: 0.0
      address: 300313
      data_type: int16
    - field:
        name: power_factor_l3
        unit: ''
      scale: 0.001
      offset: 0.0
      address: 300327
      data_type: int16
    - field:
        name: instant_power_l1
        unit: W
      scale: 1.0
      offset: 0.0
      address: 300293
      data_type: int32
    - field:
        name: instant_power_l2
        unit: W
      scale: 1.0
      offset: 0.0
      address: 300307
      data_type: int32
    - field:
        name: instant_power_l3
        unit: W
      scale: 1.0
      offset: 0.0
      address: 300321
      data_type: int32
    - field:
        name: energy_import
        unit: kWh
      scale: 1.0
      offset: 0.0
      address: 301281
      data_type: uint32
    - field:
        name: energy_export
        unit: kWh
      scale: 1.0
      offset: 0.0
      address: 301309
      data_type: uint32
  control_config: {}
  processor_config: {}
